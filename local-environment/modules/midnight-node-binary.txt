
  midnight-node-binary:
    container_name: midnight-node-binary 
    image: ${MIDNIGHT_NODE_IMAGE}
    platform: ${ARCHITECTURE}
    volumes:
      - shared-volume:/shared
      - cardano-node-1-data:/data
      - ./configurations/genesis/shelley/genesis-utxo.skey:/shared/shelley/genesis-utxo.skey
      - ./configurations/cardano/keys/funded_address.skey:/keys/funded_address.skey
      - ./configurations/cardano/keys/funded_address.vkey:/keys/funded_address.vkey
      - ./configurations/cardano/keys/owner-utxo.skey:/keys/owner-utxo.skey
      - ./configurations/cardano/keys/owner-utxo.vkey:/keys/owner-utxo.vkey
      - ./configurations/cardano/keys/owner-stake.skey:/keys/owner-stake.skey
      - ./configurations/midnight-setup/entrypoint.sh:/entrypoint_setup.sh
      - ./configurations/midnight-nodes/:/midnight-nodes/
      - ./configurations/midnight-node-binary/entrypoint.sh:/entrypoint.sh
    environment:
      - GOVERNANCE_AUTHORITY=e8c300330fe315531ca89d4a2e7d0c80211bc70b473b1ed4979dff2b
      - OGMIOS_PORT=${OGMIOS_PORT}
    entrypoint: ["/bin/bash", "/entrypoint.sh"]
    deploy:
      resources:
        limits:
          cpus: ${CPU_MIDNIGHT_NODE:-}
          memory: ${MEM_MIDNIGHT_NODE:-}
